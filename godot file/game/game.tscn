[gd_scene load_steps=28 format=3 uid="uid://bylleynve2flp"]

[ext_resource type="Script" path="res://game/game.gd" id="1_6j0nq"]
[ext_resource type="PackedScene" uid="uid://b2rghjrirors" path="res://Assets/3d/estacion/estacion_pasco.tscn" id="1_qelwn"]
[ext_resource type="PackedScene" uid="uid://cx3s2f1kg1r7p" path="res://player/player.tscn" id="2_dtanv"]
[ext_resource type="PackedScene" uid="uid://qtcudwjpe1cf" path="res://Assets/3d/props/ventilador/ventilador.tscn" id="3_dftta"]
[ext_resource type="PackedScene" uid="uid://bl0ekoii3kbxg" path="res://Assets/3d/props/padlock/padlock.tscn" id="4_et5bh"]
[ext_resource type="PackedScene" uid="uid://okdds6hb4g25" path="res://Assets/3d/props/banco/banco_2.tscn" id="5_lwppw"]
[ext_resource type="PackedScene" uid="uid://bqfmg437cd3o6" path="res://Assets/3d/props/tachos basura/tachos.tscn" id="6_bpf6v"]
[ext_resource type="Script" path="res://game/path_human.gd" id="8_gmty2"]
[ext_resource type="PackedScene" uid="uid://c4ehv5jnqn2ad" path="res://Assets/3d/PEOPLE/base_human.tscn" id="8_jxlb3"]
[ext_resource type="Script" path="res://game/tren_mano_contraia.gd" id="8_ochqm"]
[ext_resource type="PackedScene" uid="uid://blilmjdoukblb" path="res://SUBTE/SUBTE.tscn" id="8_qctvt"]
[ext_resource type="AudioStream" uid="uid://ck6tvxe2adsas" path="res://Assets/sounds/tren/tren pasando rapido.mp3" id="10_ncse2"]
[ext_resource type="PackedScene" uid="uid://cb0d2h431pbri" path="res://Assets/MONSTERS/JASON.glb" id="13_1wnfs"]
[ext_resource type="Script" path="res://Assets/MONSTERS/JASON.gd" id="14_776k7"]
[ext_resource type="Script" path="res://game/tren_del_anden.gd" id="15_ik7jo"]
[ext_resource type="AudioStream" uid="uid://b36u1cw18mchv" path="res://Assets/sounds/tren/alarma puertas tren.mp3" id="16_qcbuj"]
[ext_resource type="AudioStream" uid="uid://cyshrkvorx8d1" path="res://Assets/sounds/tren/tern entrando.mp3" id="17_opdc0"]
[ext_resource type="AudioStream" uid="uid://da2u83pjg8rpr" path="res://Assets/sounds/tren/tren saliendo.mp3" id="18_hrnbe"]

[sub_resource type="BoxShape3D" id="BoxShape3D_1fy7s"]
size = Vector3(272.451, 1, 754.79)

[sub_resource type="Animation" id="Animation_2ov52"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Subte2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-3.48555, 0, 359.074)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AudioStreamPlayer3D:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AudioStreamPlayer3D:playing")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_1gurm"]
resource_name = "tren_pasando"
length = 200.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Subte2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(10, 15, 22.6, 51, 56, 60, 63),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-3.48555, 0, 359.074), Vector3(-3.48555, 0, 92.0835), Vector3(-3.48555, 0, -441.898), Vector3(-3.48555, 0, -441.898), Vector3(-63.4643, 0, -441.898), Vector3(-43.4714, 0, 659.348), Vector3(-3.48555, 0, 359.074)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AudioStreamPlayer3D:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 11.6, 12.2, 17.4, 24, 31.6, 62.6, 63.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [-80.0, -80.0, 0.0, 0.0, -40.0, -80.0, -80.0, -80.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AudioStreamPlayer3D:playing")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3.5, 64),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ihp1o"]
_data = {
"RESET": SubResource("Animation_2ov52"),
"tren_pasando": SubResource("Animation_1gurm")
}

[sub_resource type="Curve3D" id="Curve3D_hjs3g"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.020031, 0.00204372, 0.0393124, 0, 0, 0, 0, 0, 0, -0.0846715, -6.36085, -9.73049, 0.96736, 0.0594735, 0.512319, -0.96736, -0.0594735, -0.512319, -0.021636, -6.49344, -14.8742, 0.37907, -0.0301952, -0.678431, -0.37907, 0.0301952, 0.678431, -4.05707, -6.49454, -14.7408, 0.67028, 3.62396e-05, -0.579204, -0.67028, -3.62396e-05, 0.579204, -3.90166, -6.53169, -1.49656, 0.170873, -0.0229492, 0.33379, -0.170873, 0.0229492, -0.33379, -5.13176, -6.53165, -1.06377, 0, 0, 0, 0, 0, 0, -5.21124, -6.53165, -1.15559),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="SphereShape3D" id="SphereShape3D_mk6yx"]
radius = 0.51029

[sub_resource type="Animation" id="Animation_oj4bw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("subte:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, -353.545)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("tren entrando y saliendo:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_e7w78"]
resource_name = "arrive_station"
length = 45.0
loop_mode = 1
step = 1.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("subte:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 10, 22, 32, 45),
"transitions": PackedFloat32Array(0.353554, 8.28212, 2.82843, 2, 2),
"update": 0,
"values": [Vector3(0, 0, -353.545), Vector3(0, 0, 45.9984), Vector3(0, 0, 45.9984), Vector3(0, 0, 430.081), Vector3(0, 0, 430.081)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("subte")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(11, 19),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"subway_open_doors"
}, {
"args": [],
"method": &"subway_close_doors"
}]
}
tracks/2/type = "audio"
tracks/2/imported = false
tracks/2/enabled = false
tracks/2/path = NodePath("subte/audio_vagon_1")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}],
"times": PackedFloat32Array(10, 18)
}
tracks/2/use_blend = true
tracks/3/type = "audio"
tracks/3/imported = false
tracks/3/enabled = false
tracks/3/path = NodePath("subte/audio_vagon_2")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}],
"times": PackedFloat32Array(10, 18)
}
tracks/3/use_blend = true
tracks/4/type = "audio"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("subte/audio_vagon_3")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("16_qcbuj")
}],
"times": PackedFloat32Array(10, 18)
}
tracks/4/use_blend = true
tracks/5/type = "audio"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("tren entrando y saliendo")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"clips": [{
"end_offset": 5.91967,
"start_offset": 3.99708,
"stream": ExtResource("17_opdc0")
}, {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("18_hrnbe")
}],
"times": PackedFloat32Array(1, 22)
}
tracks/5/use_blend = true
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("tren entrando y saliendo:volume_db")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 3, 11, 17, 23, 28.7335, 45),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [-80.0, 0.0, 0.0, -80.0, 0.0, 0.0, -80.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ww2x6"]
_data = {
"RESET": SubResource("Animation_oj4bw"),
"arrive_station": SubResource("Animation_e7w78")
}

[node name="Game" type="Node3D"]
script = ExtResource("1_6j0nq")

[node name="escenario" type="Node3D" parent="."]

[node name="estacion_pasco" parent="escenario" instance=ExtResource("1_qelwn")]

[node name="Cylinder_array_001" parent="escenario/estacion_pasco" index="96"]
visible = false

[node name="estacion_colliders" type="Node3D" parent="escenario/estacion_pasco"]

[node name="StaticBody3D" type="StaticBody3D" parent="escenario/estacion_pasco/estacion_colliders"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="escenario/estacion_pasco/estacion_colliders/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.6755, 0, 271.833)
shape = SubResource("BoxShape3D_1fy7s")

[node name="luces" type="Node3D" parent="escenario"]

[node name="luces_anden" type="Node3D" parent="escenario/luces"]

[node name="OmniLight3D" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 1.01854)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D6" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 17.8814)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D7" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 34.9003)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D8" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 47.3913)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D9" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 40.5215)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D10" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, 24.0838)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D2" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, -11.5654)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D3" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, -24.0048)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D4" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, -34.9075)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D5" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7673, 4.82224, -47.3022)
light_energy = 0.344
distance_fade_enabled = true
omni_range = 12.374

[node name="OmniLight3D11" type="OmniLight3D" parent="escenario/luces/luces_anden"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.0685, 4.12324, -0.708974)
light_energy = 2.967
omni_range = 10.287

[node name="props" type="Node3D" parent="escenario"]

[node name="ventiladores" type="Node3D" parent="escenario/props"]

[node name="ventilador" parent="escenario/props/ventiladores" instance=ExtResource("3_dftta")]
transform = Transform3D(0.626733, 0, 0, 0, 0.626733, 0, 0, 0, 0.626733, 3.4592, 4.18125, -42.1828)

[node name="ventilador2" parent="escenario/props/ventiladores" instance=ExtResource("3_dftta")]
transform = Transform3D(0.626733, 0, 0, 0, 0.626733, 0, 0, 0, 0.626733, 3.4592, 4.18125, -25.2787)

[node name="ventilador3" parent="escenario/props/ventiladores" instance=ExtResource("3_dftta")]
transform = Transform3D(0.626733, 0, 0, 0, 0.626733, 0, 0, 0, 0.626733, 3.4592, 4.18125, 16.8692)

[node name="ventilador4" parent="escenario/props/ventiladores" instance=ExtResource("3_dftta")]
transform = Transform3D(0.626733, 0, 0, 0, 0.626733, 0, 0, 0, 0.626733, 3.4592, 4.18125, 29.4875)

[node name="padlocks" type="Node3D" parent="escenario/props"]

[node name="padlock" parent="escenario/props/padlocks" instance=ExtResource("4_et5bh")]
transform = Transform3D(0.313841, -0.9415, -0.122807, 0.331528, 0.229864, -0.915015, 0.889715, 0.246455, 0.384274, 5.23053, 2.28834, -21.2392)

[node name="bancos" type="Node3D" parent="escenario/props"]

[node name="banco2" parent="escenario/props/bancos" instance=ExtResource("5_lwppw")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.61306, 1.53037, -12.9551)

[node name="banco3" parent="escenario/props/bancos" instance=ExtResource("5_lwppw")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.61306, 1.53037, -27.9607)

[node name="banco4" parent="escenario/props/bancos" instance=ExtResource("5_lwppw")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.61306, 1.53037, 24.7799)

[node name="banco5" parent="escenario/props/bancos" instance=ExtResource("5_lwppw")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.61306, 1.53037, 36.2528)

[node name="tachos" parent="escenario/props/bancos" instance=ExtResource("6_bpf6v")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 4.98168, 1.66279, 29)

[node name="tachos2" parent="escenario/props/bancos" instance=ExtResource("6_bpf6v")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 4.98168, 1.66279, -23.9692)

[node name="Player" parent="." instance=ExtResource("2_dtanv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.58821, 17.3211, 0)

[node name="tren_mano_contraia" type="Node3D" parent="."]
script = ExtResource("8_ochqm")

[node name="Subte2" parent="tren_mano_contraia" instance=ExtResource("8_qctvt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.48555, 0, 359.074)

[node name="AnimationPlayer" type="AnimationPlayer" parent="tren_mano_contraia"]
libraries = {
"": SubResource("AnimationLibrary_ihp1o")
}

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer" parent="tren_mano_contraia"]
stream = ExtResource("10_ncse2")

[node name="people_pathways" type="Node3D" parent="."]

[node name="Path3D" type="Path3D" parent="people_pathways"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.24545, 7.5911, 17.6832)
curve = SubResource("Curve3D_hjs3g")

[node name="PathFollow3D" type="PathFollow3D" parent="people_pathways/Path3D"]
transform = Transform3D(0.999932, 0, 0.0107162, 0, 1, 0, -0.0107162, 0, 0.999932, 0.020031, 0.00204372, 0.0393124)
rotation_mode = 1
script = ExtResource("8_gmty2")
walk_speed = 1.3

[node name="base_human" parent="people_pathways/Path3D/PathFollow3D" instance=ExtResource("8_jxlb3")]
transform = Transform3D(-0.559956, 0, -4.89529e-08, 0, 0.559956, 0, 4.89529e-08, 0, -0.559956, 0, 0, 0)

[node name="MONSTERS" type="Node3D" parent="."]

[node name="JASON" parent="MONSTERS" node_paths=PackedStringArray("player") instance=ExtResource("13_1wnfs")]
transform = Transform3D(-0.258819, 0, 0.965926, 0, 1, 0, -0.965926, 0, -0.258819, -3.22479, 1.27651, 2.95105)
script = ExtResource("14_776k7")
player = NodePath("../../Player")

[node name="Area3D" type="Area3D" parent="MONSTERS/JASON"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="MONSTERS/JASON/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.916843, 0)
shape = SubResource("SphereShape3D_mk6yx")

[node name="tren_del_anden" type="Node3D" parent="."]
script = ExtResource("15_ik7jo")

[node name="subte" parent="tren_del_anden" instance=ExtResource("8_qctvt")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -353.545)

[node name="audio_vagon_1" type="AudioStreamPlayer3D" parent="tren_del_anden/subte"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5865e-06, 3.30924, 18.1473)

[node name="audio_vagon_2" type="AudioStreamPlayer3D" parent="tren_del_anden/subte"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.74221e-06, 3.30924, 54.2444)

[node name="audio_vagon_3" type="AudioStreamPlayer3D" parent="tren_del_anden/subte"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.30855e-06, 3.30924, 72.1612)

[node name="AnimationPlayer" type="AnimationPlayer" parent="tren_del_anden"]
libraries = {
"": SubResource("AnimationLibrary_ww2x6")
}

[node name="tren entrando y saliendo" type="AudioStreamPlayer" parent="tren_del_anden"]

[editable path="escenario/estacion_pasco"]
